const translations = {
    'en-US': {
        // Header
        title: 'Dark Souls Enhancement Suite',
        subtitle: 'Complete enhancement manager for Dark Souls',
        
        // Tab Navigation
        tabRegistry: 'Registry Fixes',
        tabFsr: 'FSR Overlay - Uniscaler',
        tabDsfix: 'Install DSFIX+Reshade',
        
        // Registry Fixes Tab
        registryTitle: 'Registry Fixes',
        registrySubtitle: 'Apply essential fixes for better compatibility',
        
        steamOverrideTitle: 'Steam Signature Override',
        steamOverrideDesc: 'Disables signature verification for Steam mods',
        steamOverrideBtn: 'Apply Steam Override',
        
        gpuOverrideTitle: 'NVIDIA/AMD Signature Override',
        gpuOverrideDesc: 'Enables signature override for graphics cards',
        gpuOverrideBtn: 'Apply GPU Override',
        
        depOverrideTitle: 'DEP Dark Souls Override',
        depOverrideDesc: 'Disables DEP for better DSFIX compatibility',
        scanGamesBtn: 'Scan Games',
        
        gfwlHelpBtn: 'GFWL vs SteamWorks Guide',
        
        // FSR Overlay Tab
        fsrTitle: 'FSR Overlay - Uniscaler Launcher',
        fsrSubtitle: 'Improve performance and visual quality with upscaling',
        
        launchScalerTitle: 'FSR Overlay - Uniscaler Launcher',
        launchScalerDesc: 'Run the upscaler with optimized settings',
        launchScalerBtn: 'Launch FSR Overlay',
        fsrHelpBtn: 'Help',
        
        // DSFIX+Reshade Tab
        dsfixTitle: 'Install DSFIX+Reshade',
        dsfixSubtitle: 'Install visual improvements and fixes automatically',
        
        installTitle: 'Automatic Installation',
        noPathSelected: 'No folder selected',
        selectFolderBtn: 'Select Game Folder',
        installBtn: 'Install DSFIX+Reshade',
        
        advancedTitle: 'Advanced Options',
        rtgiBtn: 'How to install experimental RTGI?',
        fsrTipsBtn: 'How to use FSR+120FPS without breaking physics?',
        
        // Game Cards
        gameTitle: 'Game',
        pathLabel: 'Path',
        sizeLabel: 'Size',
        modifiedLabel: 'Last Modified',
        registryLabel: 'Registry Value',
        
        statusApplied: 'Fix Applied',
        statusNotApplied: 'No Fix',
        
        applyFixBtn: 'Apply DEP Fix',
        removeFixBtn: 'Remove DEP Fix',
        checkStatusBtn: 'Check Status',
        
        // Notifications
        adminRequired: 'Run as Administrator to modify registry.',
        steamSuccess: 'Steam Signature Override applied successfully!',
        gpuSuccess: 'NVIDIA/AMD Signature Override applied successfully!',
        depSuccess: 'DEP Fix applied successfully!',
        depRemoved: 'DEP Fix removed successfully!',
        scalerSuccess: 'Lossless Scaling started successfully!',
        dsfixSuccess: 'DSFIX+Reshade installed successfully!',
        folderSelected: 'Game folder selected!',
        
        adminError: 'Error: Run as Administrator.',
        scalerError: 'Error starting Lossless Scaling. Check if file exists.',
        dsfixError: 'Error installing DSFIX+Reshade. Check permissions.',
        scanError: 'Error scanning games. Run as Administrator.',
        folderError: 'Error selecting game folder.',
        
        noGamesFound: 'No Dark Souls games found. Check if games are installed.',
        gamesFound: 'game(s) found!',
        statusChecked: 'Status checked:',
        fixApplied: 'DEP Fix applied',
        noFix: 'No DEP fix',
        
        // Modal
        modalClose: 'Close',
        processing: 'Processing...',
        
        // Language
        language: 'Language',
        
        // Loading states
        applying: 'Applying...',
        removing: 'Removing...',
        checking: 'Checking...',
        installing: 'Installing...',
        scanning: 'Scanning...'
    },
    
    'pt-BR': {
        // Header
        title: 'Dark Souls Enhancement Suite',
        subtitle: 'Gerenciador completo de melhorias para Dark Souls',
        
        // Tab Navigation
        tabRegistry: 'Registry Fixes',
        tabFsr: 'FSR Overlay - Uniscaler',
        tabDsfix: 'Install DSFIX+Reshade',
        
        // Registry Fixes Tab
        registryTitle: 'CorreÃ§Ãµes de Registro',
        registrySubtitle: 'Aplique correÃ§Ãµes essenciais para melhor compatibilidade',
        
        steamOverrideTitle: 'Steam Signature Override',
        steamOverrideDesc: 'Desabilita verificaÃ§Ã£o de assinatura para mods Steam',
        steamOverrideBtn: 'Aplicar Steam Override',
        
        gpuOverrideTitle: 'NVIDIA/AMD Signature Override',
        gpuOverrideDesc: 'Habilita override de assinatura para placas de vÃ­deo',
        gpuOverrideBtn: 'Aplicar GPU Override',
        
        depOverrideTitle: 'DEP Dark Souls Override',
        depOverrideDesc: 'Desabilita DEP para melhor compatibilidade com DSFIX',
        scanGamesBtn: 'Buscar Jogos',
        
        gfwlHelpBtn: 'Guia GFWL vs SteamWorks',
        
        // FSR Overlay Tab
        fsrTitle: 'FSR Overlay - Uniscaler Launcher',
        fsrSubtitle: 'Melhore performance e qualidade visual com upscaling',
        
        launchScalerTitle: 'FSR Overlay - Uniscaler Launcher',
        launchScalerDesc: 'Execute o upscaler com configuraÃ§Ãµes otimizadas',
        launchScalerBtn: 'Iniciar FSR Overlay',
        fsrHelpBtn: 'Ajuda',
        
        // DSFIX+Reshade Tab
        dsfixTitle: 'Install DSFIX+Reshade',
        dsfixSubtitle: 'Instale melhorias visuais e correÃ§Ãµes automaticamente',
        
        installTitle: 'InstalaÃ§Ã£o AutomÃ¡tica',
        noPathSelected: 'Nenhuma pasta selecionada',
        selectFolderBtn: 'Selecionar Pasta do Jogo',
        installBtn: 'Instalar DSFIX+Reshade',
        
        advancedTitle: 'OpÃ§Ãµes AvanÃ§adas',
        rtgiBtn: 'Como instalar RTGI experimental?',
        fsrTipsBtn: 'Como usar FSR+120FPS sem quebrar fÃ­sica?',
        
        // Game Cards
        gameTitle: 'Jogo',
        pathLabel: 'Caminho',
        sizeLabel: 'Tamanho',
        modifiedLabel: 'Ãšltima ModificaÃ§Ã£o',
        registryLabel: 'Valor do Registro',
        
        statusApplied: 'Fix Aplicado',
        statusNotApplied: 'Sem Fix',
        
        applyFixBtn: 'Aplicar DEP Fix',
        removeFixBtn: 'Remover DEP Fix',
        checkStatusBtn: 'Verificar Status',
        
        // Notifications
        adminRequired: 'Execute como Administrador para modificar o registro.',
        steamSuccess: 'Steam Signature Override aplicado com sucesso!',
        gpuSuccess: 'NVIDIA/AMD Signature Override aplicado com sucesso!',
        depSuccess: 'DEP Fix aplicado com sucesso!',
        depRemoved: 'DEP Fix removido com sucesso!',
        scalerSuccess: 'Lossless Scaling iniciado com sucesso!',
        dsfixSuccess: 'DSFIX+Reshade instalado com sucesso!',
        folderSelected: 'Pasta do jogo selecionada!',
        
        adminError: 'Erro: Execute como Administrador.',
        scalerError: 'Erro ao iniciar o Lossless Scaling. Verifique se o arquivo existe.',
        dsfixError: 'Erro ao instalar DSFIX+Reshade. Verifique as permissÃµes.',
        scanError: 'Erro ao buscar jogos. Execute como Administrador.',
        folderError: 'Erro ao selecionar pasta do jogo.',
        
        noGamesFound: 'Nenhum jogo Dark Souls encontrado. Verifique se os jogos estÃ£o instalados.',
        gamesFound: 'jogo(s) encontrado(s)!',
        statusChecked: 'Status verificado:',
        fixApplied: 'DEP Fix aplicado',
        noFix: 'Sem DEP fix',
        
        // Modal
        modalClose: 'Fechar',
        processing: 'Processando...',
        
        // Language
        language: 'Idioma',
        
        // Loading states
        applying: 'Aplicando...',
        removing: 'Removendo...',
        checking: 'Verificando...',
        installing: 'Instalando...',
        scanning: 'Buscando...'
    }
};

class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en-US';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updateUI();
    }
    
    get(key) {
        return this.translations[this.currentLanguage][key] || key;
    }
    
    updateUI() {
        // Update all elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            element.textContent = this.get(key);
        });
        
        // Update placeholder attributes
        document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            element.placeholder = this.get(key);
        });
        
        // Update title attributes
        document.querySelectorAll('[data-translate-title]').forEach(element => {
            const key = element.getAttribute('data-translate-title');
            element.title = this.get(key);
        });
        
        // Update language selector
        const languageSelector = document.getElementById('languageSelector');
        if (languageSelector) {
            languageSelector.value = this.currentLanguage;
        }
    }
    
    init() {
        this.createLanguageSelector();
        this.updateUI();
    }
    
    createLanguageSelector() {
        const header = document.querySelector('.header-content');
        if (header && !document.getElementById('languageSelector')) {
            const languageContainer = document.createElement('div');
            languageContainer.className = 'language-selector';
            languageContainer.innerHTML = `
                <label for="languageSelector">
                    <i class="fas fa-globe"></i>
                    <span data-translate="language">Language</span>:
                </label>
                <select id="languageSelector">
                    <option value="en-US">ðŸ‡ºðŸ‡¸ English</option>
                    <option value="pt-BR">ðŸ‡§ðŸ‡· PortuguÃªs</option>
                </select>
            `;
            
            header.appendChild(languageContainer);
            
            const selector = document.getElementById('languageSelector');
            selector.value = this.currentLanguage;
            selector.addEventListener('change', (e) => {
                this.setLanguage(e.target.value);
            });
        }
    }
}

// Export for use in other files
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { LanguageManager, translations };
} else {
    window.LanguageManager = LanguageManager;
    window.translations = translations;
}